webpackJsonp([38],{1118:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".worderlist tbody td{vertical-align:middle}.worderlist tbody 1 a.jump{color:#3498db;display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.worderlist tbody 1 a.jump:hover{color:#2f89c5}.worderlist td.contrl{min-width:120px}.worderlist th.contrl{text-align:center}.worderlist .btn{border-radius:0}.worderlist .empty{text-align:center}.worderlist .empty h4{margin-bottom:0}.worder-id{width:90px}.worder-id a{display:block;width:inherit;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.worder-time{width:105px;font-size:12px}.worder-status,.worder-tz{width:120px}",""])},1129:function(t,e,a){a(1140);var n=a(10)(a(1151),a(1131),null,null);t.exports=n.exports},1131:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"worderlist"},[t._t("header"),t._v(" "),a("table",{staticClass:"table table-striped"},[t.title?a("thead",[t._m(0)]):t._e(),t._v(" "),a("tbody",[t._l(t.datas,function(e,n){return a("tr",{key:e.workorderid},[a("td",{staticClass:"worder-id"},[a("router-link",{staticClass:"jump",attrs:{to:{name:"worderinfo",query:{owid:e.workorderid}}}},[t._v(t._s(e.workorderid))])],1),t._v(" "),a("td",{staticClass:"worder-tit"},[t._v(t._s(e.questiontitle)+"\n")]),t._v(" "),a("td",{staticClass:"worder-type"},[t._v(t._s(e.type)+"\n")]),t._v(" "),a("td",{staticClass:"worder-tz"},[t._v(t._s(e.describe)+"\n")]),t._v(" "),a("td",{staticClass:"worder-status"},[a("span",{staticClass:"round",class:t.setyle(e.status)},[t._v(t._s(t._f("worderState")(e.status)))])]),t._v(" "),a("td",{staticClass:"worder-time"},[t._v(t._s(e.time)+"\n")]),t._v(" "),a("td",{staticClass:"contrl"},[[a("router-link",{staticClass:"btn btn-xs btn-ces",attrs:{to:{name:"worderinfo",query:{owid:e.workorderid}}}},[t._v("详情")]),t._v(" "),3==e.status?a("a",{staticClass:"btn btn-xs btn-success",on:{click:function(a){t.showMsg(e.workorderid,n)}}},[t._v("完成")]):t._e(),t._v(" "),1==e.status?a("a",{staticClass:"btn btn-xs btn-default",on:{click:function(a){t.showMsg(e.workorderid,n)}}},[t._v("撤销")]):t._e()]],2)])}),t._v(" "),0==t.datas.length?a("tr",{staticClass:"empty"},[t._m(1)]):t._e()],2)]),a("messgebox",{attrs:{show:t.delshow,header:t.headerName+"订单",footer:"footer"},on:{close:function(e){t.delshow=!1},suremodal:t.editeWorder}},[a("template",{slot:"body"},[a("medias",[a("template",{slot:"left"},[a("icon",{attrs:{icon:"warning"}})],1),a("template",{slot:"body"},["over"===t.msgbType?a("p",[t._v("你确认要"+t._s(this.headerName)+"该订单吗？您还可以通过对话来激活该订单。")]):"cancel"===t.msgbType?a("p",[t._v("你确认要"+t._s(this.headerName)+"该订单吗? 撤销后你还能再查看、激活该条工单。")]):t._e()])],2)],1)],2)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("工单编号")]),t._v(" "),a("th",[t._v("工单标题")]),t._v(" "),a("th",[t._v("工单类型")]),t._v(" "),a("th",[t._v("问题特征")]),t._v(" "),a("th",[t._v("工单状态")]),t._v(" "),a("th",[t._v("发起时间")]),t._v(" "),a("th",{staticClass:"contrl"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"7"}},[a("h4",[t._v("暂无工单数据")])])}]}},1140:function(t,e,a){var n=a(1118);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("0fb7224c",n,!0)},1151:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(579),o=a.n(n),s=a(187),r=a.n(s),i=a(561),l=a.n(i),d=a(69);e.default={name:"orderlist",components:{messgebox:o.a,medias:r.a,icon:l.a},props:{data:[Array,Object],title:Boolean},data:function(){return{datas:this.data,delshow:!1,modalmsg:{},msgbType:"",headerName:""}},computed:{},methods:{setyle:function(t){return"text-"+(2==t&&"danger"||3==t&&"success"||4==t&&"warning"||(5==t||6==t)&&"muted"||"ces")},setMsgbType:function(t){return"撤销"===t&&"cancel"||"完成"===t&&"over"||"del"},showMsg:function(t,e){var a=event.target.innerText;this.msgbType=this.setMsgbType(a);var n=this.msgbType;this.headerName="over"===n?"完成":"撤销",this.modalmsg={id:t,index:e},this.delshow=!0},editeWorder:function(){var t=this;d.a.editeWorder(this.msgbType,this.modalmsg.id).then(function(e){e.success&&e.data?("del"===t.msgbType?t.datas.splice(t.modalmsg.index,1):"cancel"===t.msgbType?(t.headerName="撤销",t.datas[t.modalmsg.index].status=6):"over"===t.msgbType&&(t.headerName="完成",t.datas[t.modalmsg.index].status=5),t.delshow=!1):window.alert("非法操作了哦 亲！")})}},watch:{data:function(t){this.datas=t}}}},1164:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,"",""])},1249:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box",attrs:{id:"worder"}},[a("pageheader",[a("h4",{slot:"header"},[t._v(t._s(this.$store.state.user.pageTit))]),t._v(" "),t.worder.length>0?a("router-link",{staticClass:"btn btn-ces",attrs:{to:"/worder/create"},slot:"jumper"},[a("span",{staticClass:"iconfont icon-add"}),t._v("新增工单\n\t\t")]):t._e()],1),t._v(" "),a("navs",{attrs:{data:t.types},on:{selected:t.getOrder}}),t._v(" "),a("loading",{attrs:{load:t.loading}}),t._v(" "),t.worder.length>0?[a("hr"),t._v(" "),a("worderlist",{attrs:{data:t.worder,title:""}}),t._v(" "),t.total>t.display?a("pagination",{staticClass:"col-xs-12",attrs:{total:t.total,display:t.display,current:t.page},on:{pagechange:t.getIdx}}):t._e()]:t._e()],2)},staticRenderFns:[]}},1318:function(t,e,a){var n=a(1164);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("38a28662",n,!0)},1445:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(563),o=a.n(n),s=a(184),r=a.n(s),i=a(183),l=a.n(i),d=a(1129),c=a.n(d),p=a(627),u=a.n(p),h=a(610),f=a.n(h),m=a(69);e.default={name:"worder",components:{pageheader:o.a,alert:r.a,loading:l.a,worderlist:c.a,pagination:u.a,navs:f.a},data:function(){return{loading:!0,display:15,page:1,worder:[],types:[{id:0,name:"全部工单"},{id:1,name:"待处理"},{id:2,name:"待客户反馈"},{id:3,name:"待客户确认"},{id:4,name:"待评价"},{id:5,name:"已完成"},{id:6,name:"已注销"}]}},methods:{getIdx:function(t){this.page=t,this.getOrder()},getOrder:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;m.a.getWorkOrder(this.display,this.page,e).then(function(e){e?(t.loading=!1,t.total=e.ordernum,t.worder=e.data):r()("非法操作")})}},mounted:function(){this.getOrder()}}},554:function(t,e,a){a(1318);var n=a(10)(a(1445),a(1249),null,null);t.exports=n.exports},561:function(t,e,a){a(570);var n=a(10)(a(571),a(569),null,null);t.exports=n.exports},563:function(t,e,a){a(566);var n=a(10)(a(567),a(565),null,null);t.exports=n.exports},564:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,'.page-header{position:relative;padding-bottom:10px;padding-top:10px;margin:0 0 20px}.page-header h1,.page-header h2,.page-header h3,.page-header h4,.page-header h5{position:relative;margin:0;line-height:30px;font-weight:bolder}.page-header h1+.btn,.page-header h2+.btn,.page-header h3+.btn,.page-header h4+.btn,.page-header h5+.btn{position:absolute;right:0;top:5px}.page-header h1>a:not(.btn),.page-header h2>a:not(.btn),.page-header h3>a:not(.btn),.page-header h4>a:not(.btn),.page-header h5>a:not(.btn){font-size:14px;padding-right:15px}.page-header small{margin-left:10px;line-height:30px;font-size:14px}.page-header>a:not(.btn){text-decoration:none;color:#3498db;font-size:14px}.page-header>a:not(.btn) .iconfont{font-size:16px;margin-right:5px}.page-header>.btn+.btn{position:absolute;top:5px}.page-header.un{border:none}.page-header.phl{padding-left:15px}.page-header.phl:before{content:"";position:absolute;left:0;top:12px;bottom:12px;width:3px;background-color:#3498db}.page-header .nav{position:absolute;right:15px;bottom:10px}.page-header .nav li a{transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;border-radius:0;padding:0 30px;line-height:30px;color:#444}.page-header .nav li a.more{padding:0}.page-header .nav li.active a{color:#fff}.page-header .nav>li+li{margin-left:10px}.page-header .nav.step li.active a{color:#3498db}form .page-header{margin-bottom:15px}a.page-header{display:block;text-decoration:none}',""])},565:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"page-header",class:[!!t.bdrb&&"phb un",!!t.bdrl&&"phl un"]},[t._t("header"),t._v(" "),t._t("jumper")],2)},staticRenderFns:[]}},566:function(t,e,a){var n=a(564);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("6a4565c6",n,!0)},567:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-page-header",props:{bdrb:Boolean,bdrl:Boolean},data:function(){return{}},mounted:function(){this.$nextTick(function(){})},computed:{}}},568:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".iconfont.font-lg:before{font-size:larger}.iconfont.font-sm:before{font-size:smaller}",""])},569:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:["iconfont",t._icon,t._size]})},staticRenderFns:[]}},570:function(t,e,a){var n=a(568);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("1ceb09b8",n,!0)},571:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-icon",components:{},props:{icon:{type:String,default:""},size:{type:String,default:"normal"}},data:function(){return{}},mounted:function(){this.$nextTick(function(){console.log()})},computed:{_icon:function(){return"icon-"+this.icon},_size:function(){return"font-"+this.size}}}},579:function(t,e,a){a(588);var n=a(10)(a(595),a(585),null,null);t.exports=n.exports},582:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".modal.in{opacity:1;display:block}.modal-header a{cursor:pointer}.modal-content{border-radius:0;box-shadow:none;-webkit-box-shadow:none;-ms-box-shadow:none}.modal-body{max-height:90vh;overflow-y:auto;padding:15px 45px}.modal-body::-webkit-scrollbar-track{width:3px;background-color:#ecf0f1}.modal-body::-webkit-scrollbar{width:3px;height:15px;background-color:#3498db}.modal-body::-webkit-scrollbar-thumb{background-color:#3498db}.modal-full{width:100%;margin:0}.modal-dialog{z-index:3;margin:0;-webkit-transform:translate(-50%,-50%)!important;transform:translate(-50%,-50%)!important;top:50%;left:50%;position:absolute}.modal-sm{width:400px}.modal-mask{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.modal .icon-close{font-size:30px!important;position:absolute;top:5px;right:8px}.modal .media+.text-right{margin-top:15px}.modal div.text-right{padding-top:7.5px}.modal div.text-right a+a,.modal div.text-right a+button{margin-left:15px}.modal-fade-enter-active{-webkit-animation:msgbox-fade-in .3s;animation:msgbox-fade-in .3s}.modal-fade-leave-active{-webkit-animation:msgbox-fade-out .3s;animation:msgbox-fade-out .3s}@-webkit-keyframes modal-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes modal-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@-webkit-keyframes modal-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes modal-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}",""])},585:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{mode:"out-in","enter-active-class":"animated bounceInDown","leave-active-class":"animated bounceOutUp"}},[a("div",{ref:"modal",staticClass:"modal messagebox",class:{in:t.show}},[a("div",{staticClass:"modal-dialog",class:t.setSize},[a("div",{staticClass:"modal-content"},[t.unheader||t.header?a("div",{staticClass:"modal-header"},[t.showClose?[a("a",{on:{click:t.close}},[a("icon",{attrs:{icon:"close"}})],1)]:t._e(),t._v(" "),t.header?a("h4",{staticClass:"modal-title"},[t._v(t._s(t.header))]):t._e(),t._v(" "),t._t("header")],2):t._e(),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),t.footer?a("div",{staticClass:"modal-footer"},[[a("a",{staticClass:"btn btn-ces",on:{click:t.close}},[t._v(t._s(t.buttontext[0]))]),t._v(" "),a("a",{staticClass:"btn btn-default",on:{click:t.sureModal}},[t._v(t._s(t.buttontext[1]))])],t._v(" "),t._t("footer")],2):t._e()])]),t._v(" "),a("div",{staticClass:"modal-mask",on:{click:t.close}})])])},staticRenderFns:[]}},588:function(t,e,a){var n=a(582);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("3f385176",n,!0)},595:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(561),o=a.n(n);e.default={name:"messagebox",components:{icon:o.a},props:{size:{type:String},showClose:{type:Boolean,default:!0},show:Boolean,unheader:Boolean,header:String,footer:{type:Boolean,default:!1},buttontext:{type:Array,default:function(){return["取消","确定"]}},backclose:{type:Boolean,default:!0}},data:function(){return{}},methods:{close:function(){if(!this.backclose)return!1;this.$emit("close")},sureModal:function(){this.$emit("suremodal")}},computed:{setSize:function(){return this.size?"modal-"+this.size:""}}}},609:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".nav-pills>li>a,.nav-tabs>li>a{color:#999;cursor:pointer;border-radius:0;padding:5px 15px}.nav-pills:not(.step)>li.active a,.nav-pills:not(.step)>li.router-link-exact-active a{background-color:#3498db;color:#fff}.nav-tabs>li>a{font-size:16px;font-weight:bolder;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;border:none;border-top:3px solid transparent;border-bottom-width:3px;padding:15px 38px}.nav-tabs>li.active a,.nav-tabs>li.active a:focus,.nav-tabs>li.active a:hover,.nav-tabs>li.router-link-exact-active a,.nav-tabs>li.router-link-exact-active a:focus,.nav-tabs>li.router-link-exact-active a:hover{border:none;border-top:3px solid #3498db}@media (min-width:768px){.nav-tabs.nav-justified>li>a{border-radius:0}}",""])},610:function(t,e,a){a(612);var n=a(10)(a(616),a(611),null,null);t.exports=n.exports},611:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav",class:[t.seType,t.setStyle]},[t._l(t.data,function(e,n){return a("li",{class:{active:t.isActive==n},on:{click:function(e){t.changeNav(n)}}},[a("a",{class:""+t.styles,attrs:{href:e.href}},[t._v(t._s(e.name))])])}),t._v(" "),t._t("list")],2)},staticRenderFns:[]}},612:function(t,e,a){var n=a(609);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("44a743fe",n,!0)},616:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(88);e.default={name:"bsf-nav",components:{},props:{btype:{type:String,default:"pills"},data:Array,jfd:Boolean,styles:{type:String,default:""}},data:function(){return{isActive:0}},methods:{openDropd:function(){this.open=!this.open},changeNav:function(t){this.isActive=t,this.$emit("selected",t)}},mounted:function(){this.$nextTick(function(){})},computed:{seType:function(){return this.btype?"nav-"+this.btype:""},setStyle:function(){return this.jfd?"nav-justified":""},setHref:function(){}}}},627:function(t,e,a){a(630);var n=a(10)(a(631),a(629),null,null);t.exports=n.exports},628:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".pagination.hascheck{margin-left:135px}.pagination li.active a{background-color:#3498db;border-color:#3498db}.pagination li a{color:#999}.pagination li a:hover{color:#3498db}.pagination li:first-child a,.pagination li:first-child span,.pagination li:last-child a,.pagination li:last-child span{border-radius:0}.pagination.info li span{color:#444}.pagination.info li span:hover{background:transparent}",""])},629:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("ul",{staticClass:"pagination",class:[t.size,{hascheck:t.hascheck}]},[a("li",{class:{disabled:1==t.current}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" 首页 ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" 上一页 ")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(" "+t._s(e.text)+" ")])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v(" 下一页")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" 尾页 ")])])],2),t._v(" "),a("ul",{staticClass:"pagination info pull-right",class:[t.size]},[a("li",[a("span",[t._v(" 共 "+t._s(t.total)+"  条 ")])]),t._v(" "),a("li",[a("span",[t._v(" 共 "+t._s(t.page)+" 页 ")])]),t._v(" "),a("li",[a("span",[t._v(" 每页 "+t._s(t.display)+"  条 ")])]),t._v(" "),a("li",[a("span",[t._v(" 第 "+t._s(t.current)+" 页 ")])])])])},staticRenderFns:[]}},630:function(t,e,a){var n=a(628);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(500)("2bb58bdf",n,!0)},631:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-pagination",props:{total:{type:Number,default:0},display:{type:Number,default:10},current:{type:Number,default:1},psize:{type:[String,Array]},hascheck:{type:Boolean,default:!1},pagegroup:{type:Number,default:5,coerce:function(t){return t=t>0?t:5,t%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},size:function(){return this.psize?"pagination-"+this.psize:""},grouplist:function(){var t=this.page,e=[],a=[],n=Math.floor(this.pagegroup/2),o=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);e=e.sort(function(t,e){return t-e});var s=e.indexOf(o);s<n&&(o=o+n-s),this.current>this.page-n&&(o=this.page-n),e=e.splice(o-n-1,this.pagegroup);do{var r=e.shift();a.push({text:r,val:r})}while(e.length);return this.page>this.pagegroup&&(this.current>n+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-n&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&this.$emit("pagechange",t)}}}}});