webpackJsonp([0],{1170:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".safemix{background-color:#fff;padding:15px 30px}.safemix .alert span+span{margin-left:30px}.safemix .alert .progress{margin-bottom:0;display:inline-block;width:300px}.safemix .alert .progress,.safemix .alert .progress-bar{height:10px;border-radius:50px}.safe-item{display:table;width:100%}.safe-item h4,.safe-item p,.safe-item span{display:table-cell;line-height:120px;vertical-align:middle}.safe-item p{margin-bottom:0;width:300px}.safe-item span{width:90px;text-align:center}.safe-item span.iconfont{font-size:30px}.safe-item span.icon-zhengque{color:#2ecc71}.safe-item span.icon-cuowu{color:#e74c3c}.safe-item h4{width:150px;margin:0}.safe-item button{width:150px;margin-left:30px}.safe-item+.safe-item{border-top:1px solid #e1e1e1;margin-top:15px}",""])},1256:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"safemix"},[a("pageheader",[a("h4",{slot:"header"},[t._v(t._s(this.$store.state.user.pageTit))]),t._v('router-link.btn.btn-ces(:to="{name: \'ucenter\'}",slot="jumper") 返回用户中心')]),a("alert",{attrs:{type:t.safe>=3?"success":"warning"}},[t._v("安全等级："),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-success progress-bar-striped active",style:{width:t.setWidth}})]),a("span",[t._v(t._s(t.safestep))]),t.safe>=3?a("span",[t._v("您的帐户很安全哦！")]):a("span",{staticClass:"text-danger"},[t._v("建议你启动全部安全设置，以保障账户及资金安全！")])]),a("div",{staticClass:"safe-item-mix"},[a("div",{staticClass:"safe-item"},[a("span",{staticClass:"iconfont",class:t.userData.pasdva?"icon-zhengque":"icon-cuowu"}),a("h4",[t._v("登录密码")]),a("p",[t._v("互联网存在被盗风险，建议您定期更改密码以保护安全。")]),a("span",[a("button",{staticClass:"btn btn-ces",attrs:{"data-type":"password"},on:{click:t.showModal}},[t._v("修改用户密码")])])]),a("div",{staticClass:"safe-item"},[a("span",{staticClass:"iconfont",class:t.userData.phoneva?"icon-zhengque":"icon-cuowu"}),a("h4",[t._v("手机验证")]),a("p",[t._v("已绑定手机 "+t._s(t.userSafe.mobile))]),a("span",[a("button",{staticClass:"btn btn-ces",attrs:{"data-type":"mobile"},on:{click:t.showModal}},[t._v("修改绑定手机")])])]),a("div",{staticClass:"safe-item"},[a("span",{staticClass:"iconfont",class:t.userData.emailva?"icon-zhengque":"icon-cuowu"}),a("h4",[t._v("邮箱激活")]),a("p",[t._v("互联网存在被盗风险，建议您定期更改密码以保护安全。")]),a("span",[t.userData.emailva?a("button",{staticClass:"btn btn-ces",attrs:{"data-type":"email"},on:{click:t.showModal}},[t._v("修改邮箱")]):a("button",{staticClass:"btn btn-danger",attrs:{"data-type":"emailBind"},on:{click:t.showModal}},[t._v("绑定邮箱")])])]),a("messgebox",{attrs:{show:t.modalshow,header:t.modalTit},on:{close:t.closeModal}},[a("vue-form",{ref:"sendinfo",staticClass:"form-horizontal",attrs:{state:t.formstate},on:{submit:function(e){e.preventDefault(),t.suremodal(e)}},slot:"body",model:{value:t.formstate,callback:function(e){t.formstate=e},expression:"formstate"}},["password"===t.modalType?[a("validate",{staticClass:"form-group required-field",class:t.fieldClassName(t.formstate.psd)},[a("label",{staticClass:"col-sm-4 control-label"},[t._v("请输入新的密码"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.sendModal.psd,expression:"sendModal.psd",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"password",name:"password",required:""},domProps:{value:t.sendModal.psd},on:{change:function(e){t.sendModal.psd=e.target.value}}}),a("field-messages",{staticClass:"help-block",attrs:{name:"psd",show:"$touched || $submitted",tag:"span"}},[a("template",{staticClass:"help-block",slot:"required"},[t._v("密码不能为空")])],2)],1)])]:t._e(),"mobile"===t.modalType?[a("alert",{attrs:{type:"danger",sm:"sm"}},[t._v("为了保证您的账号安全，更换绑定手机前请先进行安全验证")]),t.changePhone?[a("validate",{staticClass:"form-group required-field",class:t.fieldClassName(t.formstate.phone)}),a("label",{staticClass:"col-sm-4 control-label"},[t._v("您新的手机号码"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.sendModal.phone,expression:"sendModal.phone",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"email",name:"phone",required:""},domProps:{value:t.sendModal.phone},on:{change:function(e){t.sendModal.phone=e.target.value}}}),a("field-messages",{staticClass:"help-block",attrs:{name:"phone",show:"$touched || $submitted",tag:"span"}},[a("template",{staticClass:"help-block",slot:"required"},[t._v("手机号码不能为空")])],2)],1)]:a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-4 control-label"},[t._v("您的旧手机号码"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("p",{staticClass:"form-control-static"},[t._v(t._s(t._f("telhide")(t.$store.state.user.user.phone)))])])])]:t._e(),"email"===t.modalType?[a("validate",{staticClass:"form-group required-field",class:t.fieldClassName(t.formstate.psd)},[a("label",{staticClass:"col-sm-4 control-label"},[t._v("您要绑定的邮箱地址"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("p",{staticClass:"form-control-static"},[t._v(t._s(t._f("mailhide")(t.$store.state.user.user.email)))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.sendModal.psd,expression:"sendModal.psd",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"email",name:"email",required:"",placeholder:t.userData.email},domProps:{value:t.sendModal.psd},on:{change:function(e){t.sendModal.psd=e.target.value}}}),a("field-messages",{staticClass:"help-block",attrs:{name:"psd",show:"$touched || $submitted",tag:"span"}},[a("template",{staticClass:"help-block",slot:"required"},[t._v("邮箱不能为空\t\t\t\t")])],2)],1)])]:t._e(),"emailBind"===t.modalType?[a("validate",{staticClass:"form-group required-field",class:t.fieldClassName(t.formstate.psd)},[a("label",{staticClass:"col-sm-4 control-label"},[t._v("您的邮箱地址"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("p",{staticClass:"form-control-static"},[t._v(t._s(t._f("mailhide")(t.$store.state.user.user.email)))]),a("field-messages",{staticClass:"help-block",attrs:{name:"psd",show:"$touched || $submitted",tag:"span"}},[a("template",{staticClass:"help-block",slot:"required"},[t._v("邮箱不能为空\t\t\t\t")])],2)],1)])]:t._e(),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-4 control-label"},[t._v("短信安全认证码"),a("span",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-8 icon"},[a("input-group",{attrs:{right:"right",btn:"btn"}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.sendModal.smscode,expression:"sendModal.smscode",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",name:"smscode",required:""},domProps:{value:t.sendModal.smscode},on:{change:function(e){t.sendModal.smscode=e.target.value}},slot:"input"}),a("timerbtn",{ref:"timebtn",staticClass:"btn btn-ces",attrs:{begin:t.timer,second:t.time},on:{clevent:t.getSmsCode},slot:"right"},[t._v("获取验证码")])],1),t.smsinfo.length?a("span",{staticClass:"help-block"},[t._v(t._s(t.smsinfo))]):t._e()],1)]),a("hr"),a("div",{staticClass:"text-right"},[a("a",{staticClass:"btn btn-default",on:{click:t.closeModal}},[t._v("取消")]),a("button",{staticClass:"btn btn-ces",attrs:{type:"submit"}},[t._v("确定")])])],2)],1)],1)],1)},staticRenderFns:[]}},1324:function(t,e,a){var s=a(1170);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("1c0d9042",s,!0)},1441:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(189),o=a.n(s),n=a(185),i=a.n(n),r=a(563),l=a.n(r),d=a(184),c=a.n(d),p=a(579),u=a.n(p),m=a(603),f=a.n(m),h=a(707),b=a.n(h),g=a(69),v=a(70),x={psd:"",phone:"",mobile:"",email:"",smscode:""};e.default={name:"info",components:{cols:i.a,pageheader:l.a,alert:c.a,messgebox:u.a,inputGroup:f.a,timerbtn:b.a},data:function(){return{safe:0,modalshow:!1,modalTit:"",modalType:"",formstate:{},sendModal:_.cloneDeep(x),changePhone:!1,smsinfo:"",time:120,timer:!1,mtArray:{password:"修改密码",mobile:"修改手机",emailBind:"绑定邮箱",email:"验证邮箱"}}},computed:o()({userData:function(){return this.$store.state.user.user},userSafe:function(){return this.safe=this.$store.getters.safeStep}},a.i(v.c)(["safeStep"]),{safestep:function(){var t=this.safe;return 1==t&&"低"||2==t&&"中"||3==t&&"高"},setWidth:function(){var t=this.safe;return 1==t&&"33.33%"||2==t&&"66.66%"||3==t&&"100%"}}),methods:{showModal:function(){this.modalshow=!0;var t=event.target.dataset.type;this.modalType=t,this.modalTit=this.mtArray[t]},suremodal:function(){var t=this,e=this.$refs.sendinfo.$el;this.formstate.$valid&&("password"===this.modalType?g.a.editPassword(e).then(function(e){e.success&&0!=e.data?t.closeModal():"code error"===e.data?window.alert("验证码错误，请确认后重新输入"):0===e.data&&window.alert("新的密码不能和旧的相同，请重新输入")}):this.modalType)},getSmsCode:function(){var t=this;this.timer=!0,g.a.getSmsCode(this.userData.phone).then(function(e){e.success&&1===e.data?t.smsinfo="短信已发送到您绑定的手机，请不要泄露给第三方！":e.success&&"LOCK"===e.data?t.smsinfo="操作过于频繁请,请一小时后重试！":window.alert("短信发送失败，请稍后再试")})},closeModal:function(){this.modalshow=!1,this.resetState()},fieldClassName:function(t){return t?(t.$touched||t.$submitted)&&t.$valid?"has-success":(t.$touched||t.$submitted)&&t.$invalid?"has-error":void 0:""},resetState:function(){this.smsinfo="",this.formstate._reset(),this.sendModal=_.cloneDeep(x)}},watch:{}}},198:function(t,e,a){a(1324);var s=a(10)(a(1441),a(1256),null,null);t.exports=s.exports},561:function(t,e,a){a(570);var s=a(10)(a(571),a(569),null,null);t.exports=s.exports},563:function(t,e,a){a(566);var s=a(10)(a(567),a(565),null,null);t.exports=s.exports},564:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,'.page-header{position:relative;padding-bottom:10px;padding-top:10px;margin:0 0 20px}.page-header h1,.page-header h2,.page-header h3,.page-header h4,.page-header h5{position:relative;margin:0;line-height:30px;font-weight:bolder}.page-header h1+.btn,.page-header h2+.btn,.page-header h3+.btn,.page-header h4+.btn,.page-header h5+.btn{position:absolute;right:0;top:5px}.page-header h1>a:not(.btn),.page-header h2>a:not(.btn),.page-header h3>a:not(.btn),.page-header h4>a:not(.btn),.page-header h5>a:not(.btn){font-size:14px;padding-right:15px}.page-header small{margin-left:10px;line-height:30px;font-size:14px}.page-header>a:not(.btn){text-decoration:none;color:#3498db;font-size:14px}.page-header>a:not(.btn) .iconfont{font-size:16px;margin-right:5px}.page-header>.btn+.btn{position:absolute;top:5px}.page-header.un{border:none}.page-header.phl{padding-left:15px}.page-header.phl:before{content:"";position:absolute;left:0;top:12px;bottom:12px;width:3px;background-color:#3498db}.page-header .nav{position:absolute;right:15px;bottom:10px}.page-header .nav li a{transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-ms-transition:all .5s ease-in-out;border-radius:0;padding:0 30px;line-height:30px;color:#444}.page-header .nav li a.more{padding:0}.page-header .nav li.active a{color:#fff}.page-header .nav>li+li{margin-left:10px}.page-header .nav.step li.active a{color:#3498db}form .page-header{margin-bottom:15px}a.page-header{display:block;text-decoration:none}',""])},565:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"page-header",class:[!!t.bdrb&&"phb un",!!t.bdrl&&"phl un"]},[t._t("header"),t._v(" "),t._t("jumper")],2)},staticRenderFns:[]}},566:function(t,e,a){var s=a(564);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("6a4565c6",s,!0)},567:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-page-header",props:{bdrb:Boolean,bdrl:Boolean},data:function(){return{}},mounted:function(){this.$nextTick(function(){})},computed:{}}},568:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".iconfont.font-lg:before{font-size:larger}.iconfont.font-sm:before{font-size:smaller}",""])},569:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:["iconfont",t._icon,t._size]})},staticRenderFns:[]}},570:function(t,e,a){var s=a(568);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("1ceb09b8",s,!0)},571:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-icon",components:{},props:{icon:{type:String,default:""},size:{type:String,default:"normal"}},data:function(){return{}},mounted:function(){this.$nextTick(function(){console.log()})},computed:{_icon:function(){return"icon-"+this.icon},_size:function(){return"font-"+this.size}}}},579:function(t,e,a){a(588);var s=a(10)(a(595),a(585),null,null);t.exports=s.exports},582:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".modal.in{opacity:1;display:block}.modal-header a{cursor:pointer}.modal-content{border-radius:0;box-shadow:none;-webkit-box-shadow:none;-ms-box-shadow:none}.modal-body{max-height:90vh;overflow-y:auto;padding:15px 45px}.modal-body::-webkit-scrollbar-track{width:3px;background-color:#ecf0f1}.modal-body::-webkit-scrollbar{width:3px;height:15px;background-color:#3498db}.modal-body::-webkit-scrollbar-thumb{background-color:#3498db}.modal-full{width:100%;margin:0}.modal-dialog{z-index:3;margin:0;-webkit-transform:translate(-50%,-50%)!important;transform:translate(-50%,-50%)!important;top:50%;left:50%;position:absolute}.modal-sm{width:400px}.modal-mask{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.modal .icon-close{font-size:30px!important;position:absolute;top:5px;right:8px}.modal .media+.text-right{margin-top:15px}.modal div.text-right{padding-top:7.5px}.modal div.text-right a+a,.modal div.text-right a+button{margin-left:15px}.modal-fade-enter-active{-webkit-animation:msgbox-fade-in .3s;animation:msgbox-fade-in .3s}.modal-fade-leave-active{-webkit-animation:msgbox-fade-out .3s;animation:msgbox-fade-out .3s}@-webkit-keyframes modal-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes modal-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@-webkit-keyframes modal-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes modal-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}",""])},585:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{mode:"out-in","enter-active-class":"animated bounceInDown","leave-active-class":"animated bounceOutUp"}},[a("div",{ref:"modal",staticClass:"modal messagebox",class:{in:t.show}},[a("div",{staticClass:"modal-dialog",class:t.setSize},[a("div",{staticClass:"modal-content"},[t.unheader||t.header?a("div",{staticClass:"modal-header"},[t.showClose?[a("a",{on:{click:t.close}},[a("icon",{attrs:{icon:"close"}})],1)]:t._e(),t._v(" "),t.header?a("h4",{staticClass:"modal-title"},[t._v(t._s(t.header))]):t._e(),t._v(" "),t._t("header")],2):t._e(),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),t.footer?a("div",{staticClass:"modal-footer"},[[a("a",{staticClass:"btn btn-ces",on:{click:t.close}},[t._v(t._s(t.buttontext[0]))]),t._v(" "),a("a",{staticClass:"btn btn-default",on:{click:t.sureModal}},[t._v(t._s(t.buttontext[1]))])],t._v(" "),t._t("footer")],2):t._e()])]),t._v(" "),a("div",{staticClass:"modal-mask",on:{click:t.close}})])])},staticRenderFns:[]}},588:function(t,e,a){var s=a(582);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("3f385176",s,!0)},595:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(561),o=a.n(s);e.default={name:"messagebox",components:{icon:o.a},props:{size:{type:String},showClose:{type:Boolean,default:!0},show:Boolean,unheader:Boolean,header:String,footer:{type:Boolean,default:!1},buttontext:{type:Array,default:function(){return["取消","确定"]}},backclose:{type:Boolean,default:!0}},data:function(){return{}},methods:{close:function(){if(!this.backclose)return!1;this.$emit("close")},sureModal:function(){this.$emit("suremodal")}},computed:{setSize:function(){return this.size?"modal-"+this.size:""}}}},603:function(t,e,a){a(607);var s=a(10)(a(608),a(606),null,null);t.exports=s.exports},605:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,"input.form-control{border-radius:0}.input-group .input-group-btn{padding:0;margin-left:-1px}",""])},606:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group",class:[t.setSize]},[Array.isArray(t.addon)||t.right?t.right?t._e():a("span",{staticClass:"input-group-addon",class:[t.setBtn]},[t._v("\n\t\t"+t._s(t.addon[0])+"\n\t")]):a("span",{staticClass:"input-group-addon",class:[t.setBtn]},[t._v("\n\t\t"+t._s(t.addon)+"\n\t\t"),t._t("left")],2),t._v(" "),t._t("input"),t._v(" "),Array.isArray(t.addon)?a("span",{staticClass:"input-group-addon"},[t._v("\n\t\t"+t._s(t.addon[1])+"\n\t")]):t._e(),t._v(" "),!Array.isArray(t.addon)&&t.right?a("span",{staticClass:"input-group-addon",class:[t.setBtn]},[t._v("\n\t\t"+t._s(t.addon)+"\n\t\t"),t._t("right")],2):t._e()],2)},staticRenderFns:[]}},607:function(t,e,a){var s=a(605);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("23667f7c",s,!0)},608:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bsf-input-group",components:{},props:{size:{type:String},addon:{type:[String,Array]},right:{type:Boolean},btn:{type:Boolean}},data:function(){return{}},mounted:function(){this.$nextTick(function(){})},computed:{setSize:function(){return this.size?"input-group-"+this.size:""},setBtn:function(){if(this.btn)return"input-group-btn"}},watch:{}}},701:function(t,e,a){e=t.exports=a(499)(),e.push([t.i,".timerout:disabled,.timerout:disabled:focus,.timerout:disabled:hover{background-color:#000;color:#fff}",""])},707:function(t,e,a){a(711);var s=a(10)(a(733),a(708),null,null);t.exports=s.exports},708:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"timerout",attrs:{disabled:t.disabled||t.time>0},on:{click:t.clevent}},[t._v("\n        "+t._s(t.text)+"\n    ")])},staticRenderFns:[]}},711:function(t,e,a){var s=a(701);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(500)("d062185a",s,!0)},733:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"timerbtn",props:{second:{type:Number,default:60},disabled:{type:Boolean,default:!1},begin:{type:Boolean,default:!1}},data:function(){return{time:0}},methods:{run:function(){this.time=this.second,this.timer()},timer:function(){this.time>0&&(this.time--,setTimeout(this.timer,1e3))},clevent:function(){this.time||(this.run(),this.$emit("clevent"))}},computed:{text:function(){return this.time>0?this.time+"s 后重新获取":"点击获取验证码"}},watch:{begin:function(t){t&&this.run()}},mounted:function(){}}}});